<div class="row d-flex justify-content-center" id="container">


    <div
        class=" col-10 col-md-6 col-lg-5 col-xl-4 col-xxl-3 login-form mt-3 mb-3 mt-lg-0 mt-xl-0 mt-xll-0 mb-lg-0 mb-xl-0 mb-xll-0 ">
        <form action="" #loginForm [formGroup]="form_model" id="login-form" (ngSubmit)="onSubmit()">


            <div class="row">
                <div class="col-12 d-flex justify-content-center login-form__avatar-row">
                    <div class="rounded-div d-flex justify-content-center align-items-center">
                        <img *ngIf="currentTheme=='light'" #lightLogo [ngClass]="{
                            'hide':!login_completed
                        }" (load)="imageCompleted('login')" src="assets/icons/svg/pestsy-v2-logo.webp" class="avatar"
                            alt="">

                        <img *ngIf="currentTheme=='dark'" #darkLogo [ngClass]="{
                            'hide':!login_completed
                        }" (load)="imageCompleted('login')" src="assets/icons/svg/pestsy-v2-logo-black.webp"
                            class="avatar" alt="">
                        <div class="loader-div shimmer-effect" *ngIf="!login_completed"></div>

                    </div>
                </div>
                <div class="col-12 mt-4">
                    <div class="">
                        <h6 class="text-center login-form__title">INGRESAR</h6>
                    </div>
                </div>
            </div>

            <div class="row login-form__content d-flex justify-content-center mt-4">
                <div class="col-10 input-wrapper started" #wrapper1>
                    <span class="icon-container mt-2" #userIcon>
                        <fa-icon [icon]="faUser" class="icon-m"></fa-icon>
                    </span>
                    <input type="text" class="input-wrapper__input" (focus)="focusFunction(userIcon,wrapper1)"
                        (focusout)="focusOutFunction(userIcon,wrapper1)" placeholder="Nombre de usuario"
                        formControlName="email" id="email" maxlength="40" name="email">
                    <div *ngIf="model_form_control.email.invalid &&
                model_form_control.email.touched" class="message-container mt-2">
                        Este campo es requerido
                        <span [ngClass]="{
                    invalid:
                      model_form_control.email.invalid &&
                      model_form_control.email.touched
                  }">*</span>
                    </div>
                </div>
            </div>

            <div class="row login-form__content d-flex justify-content-center mt-3">
                <div class="col-10 input-wrapper" #wrapper2>
                    <span class="icon-container mt-2" #passwordIcon>
                        <fa-icon [icon]="faLock" class="icon-m"></fa-icon>
                    </span>

                    <span class="icon-password" (click)="showPassword()" >
                        <fa-icon [icon]="faEye" class="icon-m"></fa-icon>
                    </span>
                    <input [type]="displayPassword ? 'text':'password'" class="input-wrapper__input" (focus)="focusFunction(passwordIcon,wrapper2)"
                        (focusout)="focusOutFunction(passwordIcon,wrapper2)" placeholder="Contraseña"
                        formControlName="password" id="password" maxlength="30" name="password">

                    <div *ngIf="model_form_control.password.invalid &&
                model_form_control.password.touched" class="message-container mt-2">
                        Este campo es requerido
                        <span [ngClass]="{
                    invalid:
                      model_form_control.password.invalid &&
                      model_form_control.password.touched
                  }">*</span>
                    </div>
                </div>
            </div>

            <div class="row login-form__content d-flex justify-content-center mt-3">

                <div class="col-10">
                    <div class="row">
                        <div class="col-12 col-md-5 col-xl-5 col-xll-5">
                            <div class="form__check-group">
                                <input type="checkbox" class="form__check-input invisible" id="remember_me"
                                    formControlName="rememberMe" name="remember_me">

                                <label for="remember_me" class="form__check-label ps-2 remember_me">
                                    <span class="form__check-button"></span>

                                    Recordarme</label>

                            </div>
                        </div>


                        <div class="col-12 col-md-7 col-xl-7 col-xll-7">
                            <div class="row ">
                                <div class="col-12  d-flex justify-content-end p-0">
                                    <div class="form__check-group text-end">
                                        <span><a routerLink="/registro" class="link registerLink ">Registarse</a></span>

                                    </div>
                                </div>
                                <div class="col-12  d-flex justify-content-end p-0">
                                    <div class="form__check-group text-end">
                                        <span><a routerLink="/recuperar-contrasena" class="link forgot-password">
                                                ¿Olvidaste tu contraseña?</a></span>
                                    </div>




                                </div>
                            </div>

                        </div>
                    </div>
                </div>


            </div>

            <div class="row login-form__content d-flex justify-content-center mt-4" id="remember-container">
                <div class="col-10">

                    <div class="form-button d-flex justify-content-center">
                        <button class="login-btn" type="submit" [disabled]="form_model.invalid || sendingForm"
                            [ngClass]="
                                {
                                    'login-btn':form_model.valid,
                                    'disabled-btn':form_model.invalid
                                }">Ingresar</button>
                    </div>
                </div>
            </div>

            <div class="social-media">
                <div class="d-flex justify-content-center">
                    <span class="sign-in-text">Iniciar sesión con</span>
                </div>

                <div class="social-media__buttons mt-3 mt-xl-3 mt-xll-3">

                    <div class=" d-flex justify-content-center" (click)="googleOauth()">

                        <div class="google ">
                            <div class="google__container">
                                <div class="google__logo">
                                    <img class="google__icon" src="assets/icons/svg/google.svg" alt="">
                                </div>
                                <div class="google__text">
                                    <span>Acceder con Google</span>
                                </div>
                            </div>
                        </div>

                    </div>

                    <!---
                    <div class=" d-flex justify-content-center mt-2" (click)="facebookOauth()">

                        <div class="facebook">
                            <div class="facebook__container">
                                <div class="facebook__logo">
                                    <i aria-colspan="facebook__icon" style="font-size: 1.5rem !important;" class="fa fa-facebook-official me-2" aria-hidden="true"></i>
                                </div>
                                <div class="facebook__text">
                                    <span>Acceder con Facebook</span>
                                </div>
                            </div>
                        </div>

                    </div>
                -->

                </div>
            </div>




            <div class="row login-form__content d-flex justify-content-center  mb-5">
                <div class="col-10 text-center mt-2">

                    <span><a href="https://castilloapp.com/politicas-de-privacidad" class="link registerLink "
                            target="_blank" style="text-decoration: none;">Politicas de privacidad</a></span>
                </div>


            </div>

        </form>



    </div>
</div>